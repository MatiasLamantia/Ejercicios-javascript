<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Ejercicio4</title>
  </head>
  <body>
    <form>
      <input type="button" name="Atras" value="Atras" onclick="atrasImagen()" />
      <input type="button" name="Siguiente" onclick="siguenteImagen()" value="Siguiente"/><br/>
      <img width="500px;" height="404px;" id="imagen" src="img/imagen1.jpg"/><br/>
      <input type="button" name="mostrarDesc" value="Mostrar Descripción" onclick="mostrarDescr()"
      />
    </form>
    <p id="desc"></p>
    <script>
      // Declaración de los objetos imagenes con la ruta relativa de la imagen y una descripción
      var imagen1 = { link: "img/imagen1.jpg", desc: "Descripción Imagen 1" };
      var imagen2 = { link: "img/imagen2.jpg", desc: "Descripción Imagen 2" };
      var imagen3 = { link: "img/imagen3.jpg", desc: "Descripción Imagen 3" };
      var imagen4 = { link: "img/imagen4.jpg", desc: "Descripción Imagen 4" };
      var imagen5 = { link: "img/imagen5.jpg", desc: "Descripción Imagen 5" };

      //Array que contiene todos los objetos imagen
      var imagenes = [];
      imagenes[0] = imagen1;
      imagenes[1] = imagen2;
      imagenes[2] = imagen3;
      imagenes[3] = imagen4;
      imagenes[4] = imagen5;

      //Función que muestra la siguiente imagen
      function siguenteImagen() {
        //Obtención del contenido del atributo src en img
        var img = document.getElementById("imagen");
        var src = img.getAttribute("src");

        //query selector para despues cambiar el atributo
        var ruta = document.querySelector("#imagen");

        //Bucle por cada elemento del array
        for (var i = 0; i <= imagenes.length; i++) {
          /*Si la ruta del alguna imagen que esté en el array coincide con el está actualmente en el src de img,
		se pasa a la siguiente imagen y se deja la descipción vacia
		*/
          if (src == imagenes[i]["link"]) {
            ruta.setAttribute("src", imagenes[i + 1]["link"]);
            document.getElementById("desc").textContent = "";
          }
        }
      }

      //Función para mostar la imagen anterior
      function atrasImagen() {
        //Obtención del contenido del atributo src en img
        var img = document.getElementById("imagen");
        var src = img.getAttribute("src");

        //query selector para despues cambiar el atributo
        var ruta = document.querySelector("#imagen");

        //Bucle por cada elemento del array
        for (var i = 0; i <= imagenes.length; i++) {
          /*Si la ruta del alguna imagen que esté en el array coincide con el está actualmente en el src de img,
		se pasa a la siguiente imagen y se deja la descipción vacia
		*/
          if (src == imagenes[i]["link"]) {
            ruta.setAttribute("src", imagenes[i - 1]["link"]);
            document.getElementById("desc").textContent = "";
          }
        }
      }

      //función para mostrar la descripción
      function mostrarDescr() {
        //Obtención del contenido del atributo src en img
        var img = document.getElementById("imagen");
        var src = img.getAttribute("src");

        //Bucle por cada elemento del array
        for (var i = 0; i <= imagenes.length; i++) {
          /* Si el contenido del atributo src es igual a el link de algun elemento
			del array muestro la imagen cambiando el parrafo con el id desc */
          if (src == imagenes[i]["link"]) {
            document.getElementById("desc").textContent = imagenes[i]["desc"];
          }
        }
      }
    </script>
  </body>
</html>
